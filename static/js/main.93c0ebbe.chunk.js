(this.webpackJsonphexagonal2048=this.webpackJsonphexagonal2048||[]).push([[0],{21:function(e,t,a){e.exports={GameField:"styles_GameField__3hfdo",row:"styles_row__2HNAo",item:"styles_item__1hvrl",pointy:"styles_pointy__3O4RL"}},30:function(e,t,a){e.exports={Game:"styles_Game__116Rh",gameTitle:"styles_gameTitle__kjZDa",main:"styles_main__1nWvf"}},42:function(e,t,a){e.exports={NumericInput:"styles_NumericInput__3EzZk"}},43:function(e,t,a){e.exports={RadioButtons:"styles_RadioButtons__2MtDp"}},49:function(e,t,a){e.exports=a(77)},6:function(e,t,a){e.exports={Controls:"styles_Controls__1i-bK",column:"styles_column__10bZm",settings:"styles_settings__WGKl8",startOver:"styles_startOver__1voyR",arrows:"styles_arrows__3affh",arrow:"styles_arrow__3IVv-",text:"styles_text__1p2ML",flat:"styles_flat__3rrgu"}},77:function(e,t,a){"use strict";a.r(t);var n,r,c,o,l=a(0),i=a.n(l),u=a(23),s=a.n(u),m=a(18),f=[3,250],d=[2,20];!function(e){e.InProgress="in-progress",e.Finished="finished"}(n||(n={})),function(e){e.Pointy="pointy",e.Flat="flat"}(r||(r={})),function(e){e.Online="online",e.Offline="offline"}(c||(c={})),function(e){e.Bottom="bottom",e.BottomLeft="bottom-left",e.BottomRight="bottom-right",e.Top="top",e.TopLeft="top-left",e.TopRight="top-right"}(o||(o={}));var p=["KeyQ","KeyW","KeyE","KeyA","KeyS","KeyD"],E=["KeyW","KeyE","KeyA","KeyF","KeyS","KeyD"],b={KeyE:o.TopLeft,KeyW:o.Top,KeyQ:o.TopRight,KeyD:o.BottomLeft,KeyS:o.Bottom,KeyA:o.BottomRight},v={KeyW:o.TopRight,KeyE:o.BottomRight,KeyA:o.Top,KeyF:o.Bottom,KeyS:o.TopLeft,KeyD:o.BottomLeft};function g(e,t){var a={};for(var n in e)a[n]="".concat(t,"_").concat(n);return a}var y=g({CHANGE_GAME_PLAY_MODE:null,CHANGE_GAME_SIZE:null,INITIATE_FIELD:null,MOVE:null,SET_APP_STATUS:null,SET_CELL_SIZE:null,SET_GAME_PLAY_MODE:null,SET_GAME_MODE:null,SET_GAME_SIZE:null,START_OVER:null},"Controls"),O=function(e){return{type:y.MOVE,payload:{direction:e}}},h=function(e){return{type:y.SET_APP_STATUS,payload:{appStatus:e}}},_=function(e){return{type:y.SET_GAME_SIZE,payload:{gameSize:e}}},j=function(e){return{type:y.SET_GAME_PLAY_MODE,payload:{gamePlayMode:e}}},S=a(47),x=a(26),w=a(17),T=a(8),M=a(28),N=a.n(M),k=a(41),A=a.n(k),z=a(42),C=a.n(z),G=function(e){var t=e.onChange,a=e.id,n=e.value,r=e.label,c=e.disabled,o=Object(T.a)(e.range,2),u=o[0],s=o[1],m=e.step,f=void 0===m?1:m,d=e.integer,p=void 0===d||d,E=Object(l.useState)(n),b=Object(T.a)(E,2),v=b[0],g=b[1];Object(l.useEffect)((function(){g(n)}),[n]);var y=Object(l.useCallback)((function(e){var t=e.target.value;if(""!==t){var a=Number(t);isFinite(a)&&g(a)}else g(t)}),[g]),O=Object(l.useCallback)((function(){if(""!==v){var e=p?parseInt(String(v)):Number(v),a=A()(e,u,s);a!==n&&(g(n),t(a))}else g(n)}),[p,n,t,v,g]),h=Object(l.useCallback)((function(e){"Enter"===e.key&&O(e)}),[O]);return i.a.createElement("div",{className:C.a.NumericInput},i.a.createElement("input",{type:"number",id:a,min:u,max:s,step:f,disabled:c,value:v,onChange:y,onBlur:O,onKeyDown:h}),i.a.createElement("label",{htmlFor:a},"".concat(r," (").concat(u," - ").concat(s,")")))},P=a(43),I=a.n(P),L=function(e){var t=e.title,a=e.checkedId,n=e.options,r=e.onChange,c=Object(l.useCallback)((function(e){r(e.target.id)}),[r]);return i.a.createElement("form",{className:I.a.RadioButtons},i.a.createElement("p",null,t),n.map((function(e){var t=e.id,n=e.label;return i.a.createElement("div",{key:t},i.a.createElement("input",{type:"radio",id:t,checked:a===t,onChange:c}),i.a.createElement("label",{htmlFor:t},n))})))},D=a(6),R=a.n(D),F=function(e){var t=e.move,a=e.disabled;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,i.a.createElement("button",{disabled:a,onClick:function(){return t(o.Top)}},i.a.createElement("span",{className:R.a.arrow},"\u279c"),i.a.createElement("span",{className:R.a.text},"W"))),i.a.createElement("div",null,i.a.createElement("button",{disabled:a,onClick:function(){return t(o.TopRight)}},i.a.createElement("span",{className:R.a.arrow},"\u279c"),i.a.createElement("span",{className:R.a.text},"Q")),i.a.createElement("button",{disabled:a,onClick:function(){return t(o.TopLeft)}},i.a.createElement("span",{className:R.a.text},"E"),i.a.createElement("span",{className:R.a.arrow},"\u279c"))),i.a.createElement("div",null,i.a.createElement("button",{disabled:a,onClick:function(){return t(o.BottomRight)}},i.a.createElement("span",{className:R.a.text},"A"),i.a.createElement("span",{className:R.a.arrow},"\u279c")),i.a.createElement("button",{disabled:a,onClick:function(){return t(o.BottomLeft)}},i.a.createElement("span",{className:R.a.arrow},"\u279c"),i.a.createElement("span",{className:R.a.text},"D"))),i.a.createElement("div",null,i.a.createElement("button",{disabled:a,onClick:function(){return t(o.Bottom)}},i.a.createElement("span",{className:R.a.text},"S"),i.a.createElement("span",{className:R.a.arrow},"\u279c"))))},B=function(e){var t=e.move,a=e.disabled;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,i.a.createElement("button",{disabled:a,onClick:function(){return t(o.TopRight)}},i.a.createElement("span",{className:R.a.arrow},"\u279c"),i.a.createElement("span",{className:R.a.text},"W")),i.a.createElement("button",{disabled:a,onClick:function(){return t(o.BottomRight)}},i.a.createElement("span",{className:R.a.text},"E"),i.a.createElement("span",{className:R.a.arrow},"\u279c"))),i.a.createElement("div",null,i.a.createElement("button",{disabled:a,onClick:function(){return t(o.Top)}},i.a.createElement("span",{className:R.a.text},"A"),i.a.createElement("span",{className:R.a.arrow},"\u279c")),i.a.createElement("button",{disabled:a,onClick:function(){return t(o.Bottom)}},i.a.createElement("span",{className:R.a.arrow},"\u279c"),i.a.createElement("span",{className:R.a.text},"F"))),i.a.createElement("div",null,i.a.createElement("button",{disabled:a,onClick:function(){return t(o.TopLeft)}},i.a.createElement("span",{className:R.a.text},"S"),i.a.createElement("span",{className:R.a.arrow},"\u279c")),i.a.createElement("button",{disabled:a,onClick:function(){return t(o.BottomLeft)}},i.a.createElement("span",{className:R.a.arrow},"\u279c"),i.a.createElement("span",{className:R.a.text},"D"))))},K=function(e){return e.controls},Z=function(e){return K(e).gameSize},H=function(e){return K(e).valuesToAdd},V=function(e){return K(e).gameMode},W=function(e){return K(e).gamePlayMode},U=function(e){return K(e).appStatus},Y=function(e){return K(e).cellSize},J=Object(x.a)({appStatus:U,cellSize:Y,gameMode:V,gamePlayMode:W,gameSize:Z}),Q={changeGamePlayMode:function(e){return{type:y.CHANGE_GAME_PLAY_MODE,payload:{gamePlayMode:e}}},changeGameSize:function(e){return{type:y.CHANGE_GAME_SIZE,payload:{gameSize:e}}},move:O,setCellSize:function(e){return{type:y.SET_CELL_SIZE,payload:{cellSize:e}}},setGameMode:function(e){return{type:y.SET_GAME_MODE,payload:{gameMode:e}}},startOver:function(){return{type:y.START_OVER}}},q=Object(m.b)(J,Q)((function(e){var t=e.appStatus,a=e.startOver,o=e.move,u=e.gameMode,s=e.setGameMode,m=e.gamePlayMode,p=e.changeGamePlayMode,E=e.gameSize,b=e.changeGameSize,v=e.cellSize,g=e.setCellSize,y=Object(l.useState)(!1),O=Object(T.a)(y,2),h=O[0],_=O[1],j=Object(l.useCallback)((function(){return _((function(e){return!e}))}),[_]),S=u===r.Flat,x=t===n.Finished;return i.a.createElement("div",{className:R.a.Controls,"data-status":x?"game-over":"playing"},i.a.createElement("div",{className:R.a.column},i.a.createElement("div",{className:R.a.settings},i.a.createElement("p",{onClick:j},i.a.createElement("span",null,h?"\u2013":"+"),"Game settings (click to expand/collapse)"),h&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,i.a.createElement("button",{className:R.a.startOver,onClick:a},"Start over")),i.a.createElement("div",null,i.a.createElement(G,{id:"game_size",value:E,label:"Game size",range:d,onChange:b})),i.a.createElement("div",null,i.a.createElement(G,{id:"hexagon_size",value:v,label:"Hexagon size",range:f,onChange:g})),i.a.createElement("div",null,i.a.createElement(L,{title:"Select a visual game mode:",options:[{id:r.Flat,label:"Flat topped"},{id:r.Pointy,label:"Pointy topped"}],checkedId:u,onChange:s})),i.a.createElement("div",null,i.a.createElement(L,{title:"Select a play game mode:",options:[{id:c.Online,label:"Online: play with server data"},{id:c.Offline,label:"Offline: generate data locally"}],checkedId:m,onChange:p}))))),i.a.createElement("div",{className:N()(R.a.column,R.a.arrows,Object(w.a)({},R.a.flat,S))},S?i.a.createElement(B,{move:o,disabled:x}):i.a.createElement(F,{move:o,disabled:x}),i.a.createElement("p",null,"Use keyboard or these buttons")))})),X=a(9),$=a(11);function ee(e,t){var a=Object(T.a)(e,3),n=a[0]+1-t,r=a[1]+1-t;return{x:r,y:-r-n,z:n,value:a[2]}}function te(e,t){var a=e.x;return[e.z+t-1,a+t-1,e.value]}function ae(e){return e.map((function(e){return e.filter((function(e){return e&&!e[2]}))})).flat(1)}function ne(e){return e.map((function(e){return e.filter((function(e){return e&&!!e[2]}))})).flat(1)}var re=a(21),ce=a.n(re),oe=function(e){return function(e){return e.gameField}(e).field},le=Object(x.a)({field:oe,gameMode:V,gameSize:Z,appStatus:U,cellSize:Y}),ie={initiateField:function(){return{type:y.INITIATE_FIELD}}},ue=Object(m.b)(le,ie)((function(e){var t=e.field,a=e.gameMode,n=e.gameSize,c=e.cellSize,o=e.initiateField,l=a===r.Pointy,u="".concat(c,"px"),s={width:u,height:u,lineHeight:u,fontSize:"".concat(c/2.5,"px"),padding:"0 ".concat(.1*c,"px"),marginRight:"".concat(l?0:.125*c,"px"),marginBottom:"".concat(l?.125*c:0,"px")},m=!!window.DEBBUG_DEV_MODE;return 0===ne(t).length&&o(),i.a.createElement("div",{className:N()(ce.a.GameField,Object(w.a)({},ce.a.pointy,l))},t.map((function(e,t){return i.a.createElement("div",{className:ce.a.row,key:t},e.map((function(e){if(!e)return null;var t=Object(T.a)(e,3),a=t[0],r=t[1],c=t[2],o=c||"",l=m?"q: ".concat(a,", r: ").concat(r,", value: ").concat(c):String(o),u=c&&Math.log2(c),f=u?Object($.clamp)(255-10*u,165,255):255,d=u?Object($.clamp)(255-10*u*3,0,255):255,p=Object(X.a)(Object(X.a)({},s),{},{backgroundColor:"rgb(255 ".concat(f," ").concat(d,")")}),E=ee(e,n),b=E.x,v=E.y,g=E.z;return i.a.createElement("div",{key:e.join(),className:ce.a.item,style:p,title:l,"data-x":b,"data-y":v,"data-z":g,"data-value":c||0},o)})))})))})),se=a(30),me=a.n(se),fe=function(){return i.a.createElement("div",{className:me.a.Game},i.a.createElement("header",null,i.a.createElement("h1",{className:me.a.gameTitle},"Hexagonal 2048"),i.a.createElement(q,null)),i.a.createElement("main",{className:me.a.main},i.a.createElement(ue,null)))},de=(a(66),function(){return i.a.createElement(S.a,null,i.a.createElement(fe,null))}),pe=a(15),Ee=a(13),be=a(45),ve=a(48),ge=a(12),ye={parsed:!1,gameSize:0};function Oe(){if(ye.parsed)return Object($.cloneDeep)(ye)}function he(){var e=function(e,t){if(ye.parsed)return Oe();var a=window.location.hash;if(a.startsWith("#test")){var n=parseInt(a.replace("#test","")),r=isNaN(n)?e:$.clamp.apply(void 0,[n].concat(Object(ge.a)(t)));return ye.parsed=!0,ye.gameSize=r,Oe()}}(3,d);return e?{gamePlayMode:c.Online,gameSize:e.gameSize}:{gamePlayMode:c.Offline,gameSize:3}}function _e(e){return Array.from({length:Math.max(2,e-2)}).map((function(e,t){return Math.pow(2,t)})).slice(1)}var je=he(),Se=je.gameSize,xe=je.gamePlayMode,we={gameSize:Se,valuesToAdd:_e(Se),gameMode:r.Pointy,gamePlayMode:xe,appStatus:n.InProgress,cellSize:40},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y.SET_GAME_SIZE:return Me(e,t);case y.SET_GAME_MODE:return Ne(e,t);case y.SET_GAME_PLAY_MODE:return ke(e,t);case y.SET_APP_STATUS:return Ae(e,t);case y.SET_CELL_SIZE:return ze(e,t);default:return e}},Me=function(e,t){var a=t.payload.gameSize;return Object(X.a)(Object(X.a)({},e),{},{gameSize:a,valuesToAdd:_e(a)})},Ne=function(e,t){var a=t.payload.gameMode;return Object(X.a)(Object(X.a)({},e),{},{gameMode:a})},ke=function(e,t){var a=t.payload.gamePlayMode;return Object(X.a)(Object(X.a)({},e),{},{gamePlayMode:a})},Ae=function(e,t){var a=t.payload.appStatus;return Object(X.a)(Object(X.a)({},e),{},{appStatus:a})},ze=function(e,t){var a=t.payload.cellSize;return Object(X.a)(Object(X.a)({},e),{},{cellSize:a})},Ce=a(7),Ge=a.n(Ce),Pe=a(46),Ie=a(29),Le=a.n(Ie);function De(e,t){(function(e,t){var a=e.length;if(a<=t)return e;for(var n=new Set;n.size<t;)n.add(Le()(0,a-1));return Array.from(n).map((function(t){return e[t]}))})(ae(e),2).forEach((function(a){var n=Object(T.a)(a,2),r=n[0],c=n[1],o=t[Le()(0,t.length-1)];e[c][r][2]=o}))}function Re(e,t,a){return Fe.apply(this,arguments)}function Fe(){return(Fe=Object(Pe.a)(Ge.a.mark((function e(t,a,n){var r,c,o,l;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ne(a),c=JSON.stringify(r.map((function(e){return ee(e,n)}))),e.next=4,fetch(t,{method:"POST",body:c});case 4:return o=e.sent,e.next=7,o.json();case 7:l=e.sent,l.map((function(e){return te(e,n)})).forEach((function(e){var t=Object(T.a)(e,3),n=t[0],r=t[1],c=t[2];a[r][n][2]=c}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Be(e,t){var a=function(e){var t=2*e-1,a=Math.floor(t/2);return Array.from({length:t}).map((function(e,n){return Array.from({length:t}).map((function(e,r){return n<a&&a>r+n||n>a&&t<=n+r-a?null:[r,n,null]}))}))}(e);t===c.Offline&&De(a,_e(e));return a}var Ke=g({SET_FIELD:null},"GameField"),Ze=he(),He={field:Be(Ze.gameSize,Ze.gamePlayMode)},Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ke.SET_FIELD:return We(e,t);default:return e}},We=function(e,t){var a=t.payload.field;return Object(X.a)(Object(X.a)({},e),{},{field:a})},Ue=Object(pe.combineReducers)({controls:Te,gameField:Ve}),Ye=a(5),Je=function(e){return{type:Ke.SET_FIELD,payload:{field:e}}},Qe=Ge.a.mark(qe);function qe(e){var t,a,r;return Ge.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(c.prev=0,t=e.payload.gamePlayMode,confirm("Do you want to start a new game in other mode?")){c.next=5;break}return c.abrupt("return");case 5:return c.next=7,Object(Ye.d)(Z);case 7:return a=c.sent,r=Be(a,t),c.next=11,Object(Ye.c)(Object(Ee.a)([_(a),Je(r),h(n.InProgress),j(t)]));case 11:c.next=16;break;case 13:c.prev=13,c.t0=c.catch(0),console.warn("Error occurred during changing game play mode.",c.t0);case 16:case"end":return c.stop()}}),Qe,null,[[0,13]])}var Xe=Ge.a.mark($e);function $e(e){var t,a,r;return Ge.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(c.prev=0,t=e.payload.gameSize,confirm("Do you want to start a new game?")){c.next=5;break}return c.abrupt("return");case 5:return c.next=7,Object(Ye.d)(W);case 7:return a=c.sent,r=Be(t,a),c.next=11,Object(Ye.c)(Object(Ee.a)([_(t),Je(r),h(n.InProgress)]));case 11:c.next=16;break;case 13:c.prev=13,c.t0=c.catch(0),console.warn("Error occurred during changing game size.",c.t0);case 16:case"end":return c.stop()}}),Xe,null,[[0,13]])}function et(e,t,a,n,r){var c=t[a][n];if(c){var o=Object(T.a)(c,3)[2];if(o){var l=r(e,a,n),i=r(t,a,n),u=i.indexOf(c),s=l.slice(u+1),m=i.slice(u+1),f=i[u+1],d=u===i.length-1||!f,p=null!==(null===f||void 0===f?void 0:f[2])&&(null===f||void 0===f?void 0:f[2])!==o;if(!d&&!p){var E=m.find((function(e){return e&&!!e[2]}));if(E){var b=s.find((function(e){return e&&!!e[2]}))||[],v=Object(T.a)(b,3)[2];if(Object(T.a)(E,3)[2]===o&&v===o)E[2]+=o,c[2]=null;else{var g=i.indexOf(E);i[g-1][2]+=o,c[2]=null}}else{m.slice().reverse().find((function(e){return e&&!e[2]}))[2]=o,c[2]=null}}}}}function tt(e,t,a){var n=t.length;if(a===o.Bottom)for(var r=function(e,t,a){return e[t]},c=n-1;c>=0;c--)for(var l=0;l<n;l++)et(e,t,l,c,r);if(a===o.Top)for(var i=function(e,t,a){return e[t].slice().reverse()},u=0;u<n;u++)for(var s=0;s<n;s++)et(e,t,s,u,i);if(a===o.BottomLeft)for(var m=function(e,t,a){return e.map((function(e){return e[a]}))},f=0;f<n;f++)for(var d=n-1;d>=0;d--)et(e,t,d,f,m);if(a===o.TopRight)for(var p=function(e,t,a){return e.map((function(e){return e[a]})).reverse()},E=0;E<n;E++)for(var b=0;b<n;b++)et(e,t,b,E,p);if(a===o.BottomRight){var v=function(e,t,a){return e.reduce((function(e,n){return n.forEach((function(n){if(n){var r=Object(T.a)(n,2),c=r[0],o=r[1];t+a===c+o&&e.push(n)}})),e}),[])},g=function(){return v.apply(void 0,arguments).reverse()},y=t[0],O=t.map((function(e){return e[n-1]})).slice(1);[].concat(Object(ge.a)(y),Object(ge.a)(O)).filter(Boolean).map((function(e){return v(t,e[1],e[0])})).flat().forEach((function(a){et(e,t,a[1],a[0],g)}))}if(a===o.TopLeft){var h=function(e,t,a){return e.reduce((function(e,n){return n.forEach((function(n){if(n){var r=Object(T.a)(n,2),c=r[0],o=r[1];t+a===c+o&&e.push(n)}})),e}),[])},_=t.map((function(e){return e[0]})),j=t[n-1].slice(1);[].concat(Object(ge.a)(_),Object(ge.a)(j)).filter(Boolean).map((function(e){return function(){return h.apply(void 0,arguments).reverse()}(t,e[1],e[0])})).flat().forEach((function(a){et(e,t,a[1],a[0],h)}))}}function at(e){if(0!==ae(e).length)return!0;var t=Object.values(o),a=Object($.cloneDeep)(e);return t.forEach((function(e){tt(Object($.cloneDeep)(a),a,e)})),!Object($.isEqual)(e,a)}var nt=Ge.a.mark(rt);function rt(e){var t,a,r,o,l,i,u;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Ye.d)(W);case 3:return t=e.sent,e.next=6,Object(Ye.d)(oe);case 6:if(a=e.sent,r=Object($.cloneDeep)(a),t!==c.Online){e.next=24;break}return e.next=11,Object(Ye.d)(Z);case 11:return o=e.sent,l=new URL(String(o),window.RNG_SERVER_URL||"http://localhost:13337").href,e.prev=13,e.next=16,Object(Ye.b)(Re,l,r,o);case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(13),alert("The server is currently not available. Please select offline play mode."),e.abrupt("return");case 22:e.next=28;break;case 24:return e.next=26,Object(Ye.d)(H);case 26:i=e.sent,De(r,i);case 28:return u=!at(r),e.next=31,Object(Ye.c)(Object(Ee.a)([Je(r)].concat(Object(ge.a)(u?[h(n.Finished)]:[]))));case 31:e.next=36;break;case 33:e.prev=33,e.t1=e.catch(0),console.warn("Error occurred during initiation the field.",e.t1);case 36:case"end":return e.stop()}}),nt,null,[[0,33],[13,18]])}var ct=Ge.a.mark(ot);function ot(e){var t,a,r,o,l,i,u,s;return Ge.a.wrap((function(m){for(;;)switch(m.prev=m.next){case 0:return m.prev=0,m.next=3,Object(Ye.d)(U);case 3:if(m.sent!==n.Finished){m.next=6;break}return m.abrupt("return");case 6:return m.next=8,Object(Ye.d)(W);case 8:return t=m.sent,m.next=11,Object(Ye.d)(oe);case 11:if(a=m.sent,r=Object($.cloneDeep)(a),o=e.payload.direction,tt(a,r,o),t!==c.Online){m.next=31;break}return m.next=18,Object(Ye.d)(Z);case 18:return l=m.sent,i=new URL(String(l),window.RNG_SERVER_URL||"http://localhost:13337").href,m.prev=20,m.next=23,Object(Ye.b)(Re,i,r,l);case 23:m.next=29;break;case 25:return m.prev=25,m.t0=m.catch(20),alert("The server is currently not available. Please select offline play mode."),m.abrupt("return");case 29:m.next=35;break;case 31:return m.next=33,Object(Ye.d)(H);case 33:u=m.sent,De(r,u);case 35:return s=!at(r),m.next=38,Object(Ye.c)(Object(Ee.a)([Je(r)].concat(Object(ge.a)(s?[h(n.Finished)]:[]))));case 38:s&&alert("No more possible moves!"),m.next=44;break;case 41:m.prev=41,m.t1=m.catch(0),console.warn("Error occurred during moving.",m.t1);case 44:case"end":return m.stop()}}),ct,null,[[0,41],[20,25]])}var lt=Ge.a.mark(it);function it(e){var t,a,r;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,confirm("Do you want to start over?")){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,Object(Ye.d)(Z);case 6:return t=e.sent,e.next=9,Object(Ye.d)(W);case 9:return a=e.sent,r=Be(t,a),e.next=13,Object(Ye.c)(Object(Ee.a)([_(t),Je(r),h(n.InProgress)]));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.warn("Error occurred during starting over.",e.t0);case 18:case"end":return e.stop()}}),lt,null,[[0,15]])}var ut=[Object(Ye.e)(y.CHANGE_GAME_PLAY_MODE,qe),Object(Ye.e)(y.CHANGE_GAME_SIZE,$e),Object(Ye.e)(y.INITIATE_FIELD,rt),Object(Ye.e)(y.MOVE,ot),Object(Ye.e)(y.START_OVER,it)],st=Ge.a.mark(mt);function mt(){var e;return Ge.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Object(ge.a)(ut),t.next=3,Object(Ye.a)(e);case 3:case"end":return t.stop()}}),st)}var ft=Object(ve.a)(),dt=Object(pe.createStore)(Object(Ee.b)(Ue),Object(be.composeWithDevTools)(Object(pe.applyMiddleware)(ft)));ft.run(mt);var pt=dt;s.a.render(i.a.createElement(m.a,{store:pt},i.a.createElement(de,null)),document.getElementById("root")),document.addEventListener("keyup",(function(e){var t=e.code,a=pt.getState().controls.gameMode===r.Flat,n=a?v:b;if((a?E:p).includes(t))return pt.dispatch(O(n[t]))}))}},[[49,1,2]]]);