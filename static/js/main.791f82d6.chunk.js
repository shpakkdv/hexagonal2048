(this.webpackJsonphexagonal2048=this.webpackJsonphexagonal2048||[]).push([[0],{19:function(e,t,a){e.exports={GameField:"styles_GameField__3hfdo",row:"styles_row__2HNAo",item:"styles_item__1hvrl",pointy:"styles_pointy__3O4RL",cellsAppeared:"styles_cellsAppeared__29Nca"}},30:function(e,t,a){e.exports={Game:"styles_Game__116Rh",gameTitle:"styles_gameTitle__kjZDa",main:"styles_main__1nWvf"}},42:function(e,t,a){e.exports={NumericInput:"styles_NumericInput__3EzZk"}},43:function(e,t,a){e.exports={RadioButtons:"styles_RadioButtons__2MtDp"}},49:function(e,t,a){e.exports=a(77)},6:function(e,t,a){e.exports={Controls:"styles_Controls__1i-bK",column:"styles_column__10bZm",settings:"styles_settings__WGKl8",startOver:"styles_startOver__1voyR",arrows:"styles_arrows__3affh",arrow:"styles_arrow__3IVv-",text:"styles_text__1p2ML",flat:"styles_flat__3rrgu"}},77:function(e,t,a){"use strict";a.r(t);var n,r,c,l,o=a(0),i=a.n(o),u=a(23),s=a.n(u),m=a(18),d=[3,250],f=[2,20];!function(e){e.InProgress="in-progress",e.Finished="finished"}(n||(n={})),function(e){e.Pointy="pointy",e.Flat="flat"}(r||(r={})),function(e){e.Online="online",e.Offline="offline"}(c||(c={})),function(e){e.Bottom="bottom",e.BottomLeft="bottom-left",e.BottomRight="bottom-right",e.Top="top",e.TopLeft="top-left",e.TopRight="top-right"}(l||(l={}));var p=["KeyQ","KeyW","KeyE","KeyA","KeyS","KeyD"],E=["KeyW","KeyE","KeyA","KeyF","KeyS","KeyD"],b={KeyE:l.TopLeft,KeyW:l.Top,KeyQ:l.TopRight,KeyD:l.BottomLeft,KeyS:l.Bottom,KeyA:l.BottomRight},v={KeyW:l.TopRight,KeyE:l.BottomRight,KeyA:l.Top,KeyF:l.Bottom,KeyS:l.TopLeft,KeyD:l.BottomLeft};function g(e,t){var a={};for(var n in e)a[n]="".concat(t,"_").concat(n);return a}var y=g({CHANGE_GAME_PLAY_MODE:null,CHANGE_GAME_SIZE:null,INITIATE_FIELD:null,MOVE:null,SET_APP_STATUS:null,SET_CELL_SIZE:null,SET_GAME_PLAY_MODE:null,SET_GAME_MODE:null,SET_GAME_SIZE:null,START_OVER:null},"Controls"),O=function(e){return{type:y.MOVE,payload:{direction:e}}},_=function(e){return{type:y.SET_APP_STATUS,payload:{appStatus:e}}},h=function(e){return{type:y.SET_GAME_SIZE,payload:{gameSize:e}}},j=function(e){return{type:y.SET_GAME_PLAY_MODE,payload:{gamePlayMode:e}}},S=a(47),x=a(26),T=a(17),M=a(9),N=a(28),A=a.n(N),w=a(41),k=a.n(w),C=a(42),z=a.n(C),I=function(e){var t=e.onChange,a=e.id,n=e.value,r=e.label,c=e.disabled,l=Object(M.a)(e.range,2),u=l[0],s=l[1],m=e.step,d=void 0===m?1:m,f=e.integer,p=void 0===f||f,E=Object(o.useState)(n),b=Object(M.a)(E,2),v=b[0],g=b[1];Object(o.useEffect)((function(){g(n)}),[n]);var y=Object(o.useCallback)((function(e){var t=e.target.value;if(""!==t){var a=Number(t);isFinite(a)&&g(a)}else g(t)}),[g]),O=Object(o.useCallback)((function(){if(""!==v){var e=p?parseInt(String(v)):Number(v),a=k()(e,u,s);a!==n&&(g(n),t(a))}else g(n)}),[p,n,t,v,g]),_=Object(o.useCallback)((function(e){"Enter"===e.key&&O(e)}),[O]);return i.a.createElement("div",{className:z.a.NumericInput},i.a.createElement("input",{type:"number",id:a,min:u,max:s,step:d,disabled:c,value:v,onChange:y,onBlur:O,onKeyDown:_}),i.a.createElement("label",{htmlFor:a},"".concat(r," (").concat(u," - ").concat(s,")")))},L=a(43),P=a.n(L),G=function(e){var t=e.title,a=e.checkedId,n=e.options,r=e.onChange,c=Object(o.useCallback)((function(e){r(e.target.id)}),[r]);return i.a.createElement("form",{className:P.a.RadioButtons},i.a.createElement("p",null,t),n.map((function(e){var t=e.id,n=e.label;return i.a.createElement("div",{key:t},i.a.createElement("input",{type:"radio",id:t,checked:a===t,onChange:c}),i.a.createElement("label",{htmlFor:t},n))})))},D=a(6),F=a.n(D),R=function(e){var t=e.move,a=e.disabled;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,i.a.createElement("button",{disabled:a,onClick:function(){return t(l.Top)}},i.a.createElement("span",{className:F.a.arrow},"\u279c"),i.a.createElement("span",{className:F.a.text},"W"))),i.a.createElement("div",null,i.a.createElement("button",{disabled:a,onClick:function(){return t(l.TopRight)}},i.a.createElement("span",{className:F.a.arrow},"\u279c"),i.a.createElement("span",{className:F.a.text},"Q")),i.a.createElement("button",{disabled:a,onClick:function(){return t(l.TopLeft)}},i.a.createElement("span",{className:F.a.text},"E"),i.a.createElement("span",{className:F.a.arrow},"\u279c"))),i.a.createElement("div",null,i.a.createElement("button",{disabled:a,onClick:function(){return t(l.BottomRight)}},i.a.createElement("span",{className:F.a.text},"A"),i.a.createElement("span",{className:F.a.arrow},"\u279c")),i.a.createElement("button",{disabled:a,onClick:function(){return t(l.BottomLeft)}},i.a.createElement("span",{className:F.a.arrow},"\u279c"),i.a.createElement("span",{className:F.a.text},"D"))),i.a.createElement("div",null,i.a.createElement("button",{disabled:a,onClick:function(){return t(l.Bottom)}},i.a.createElement("span",{className:F.a.text},"S"),i.a.createElement("span",{className:F.a.arrow},"\u279c"))))},B=function(e){var t=e.move,a=e.disabled;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,i.a.createElement("button",{disabled:a,onClick:function(){return t(l.TopRight)}},i.a.createElement("span",{className:F.a.arrow},"\u279c"),i.a.createElement("span",{className:F.a.text},"W")),i.a.createElement("button",{disabled:a,onClick:function(){return t(l.BottomRight)}},i.a.createElement("span",{className:F.a.text},"E"),i.a.createElement("span",{className:F.a.arrow},"\u279c"))),i.a.createElement("div",null,i.a.createElement("button",{disabled:a,onClick:function(){return t(l.Top)}},i.a.createElement("span",{className:F.a.text},"A"),i.a.createElement("span",{className:F.a.arrow},"\u279c")),i.a.createElement("button",{disabled:a,onClick:function(){return t(l.Bottom)}},i.a.createElement("span",{className:F.a.arrow},"\u279c"),i.a.createElement("span",{className:F.a.text},"F"))),i.a.createElement("div",null,i.a.createElement("button",{disabled:a,onClick:function(){return t(l.TopLeft)}},i.a.createElement("span",{className:F.a.text},"S"),i.a.createElement("span",{className:F.a.arrow},"\u279c")),i.a.createElement("button",{disabled:a,onClick:function(){return t(l.BottomLeft)}},i.a.createElement("span",{className:F.a.arrow},"\u279c"),i.a.createElement("span",{className:F.a.text},"D"))))},K=function(e){return e.controls},W=function(e){return K(e).gameSize},Z=function(e){return K(e).valuesToAdd},H=function(e){return K(e).gameMode},V=function(e){return K(e).gamePlayMode},U=function(e){return K(e).appStatus},Y=function(e){return K(e).cellSize},q=Object(x.a)({appStatus:U,cellSize:Y,gameMode:H,gamePlayMode:V,gameSize:W}),J={changeGamePlayMode:function(e){return{type:y.CHANGE_GAME_PLAY_MODE,payload:{gamePlayMode:e}}},changeGameSize:function(e){return{type:y.CHANGE_GAME_SIZE,payload:{gameSize:e}}},move:O,setCellSize:function(e){return{type:y.SET_CELL_SIZE,payload:{cellSize:e}}},setGameMode:function(e){return{type:y.SET_GAME_MODE,payload:{gameMode:e}}},startOver:function(){return{type:y.START_OVER}}},Q=Object(m.b)(q,J)((function(e){var t=e.appStatus,a=e.startOver,l=e.move,u=e.gameMode,s=e.setGameMode,m=e.gamePlayMode,p=e.changeGamePlayMode,E=e.gameSize,b=e.changeGameSize,v=e.cellSize,g=e.setCellSize,y=Object(o.useState)(!1),O=Object(M.a)(y,2),_=O[0],h=O[1],j=Object(o.useCallback)((function(){return h((function(e){return!e}))}),[h]),S=u===r.Flat,x=t===n.Finished;return i.a.createElement("div",{className:F.a.Controls,"data-status":x?"game-over":"playing"},i.a.createElement("div",{className:F.a.column},i.a.createElement("div",{className:F.a.settings},i.a.createElement("p",{onClick:j},i.a.createElement("span",null,_?"\u2013":"+"),"Game settings (click to expand/collapse)"),_&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,i.a.createElement("button",{className:F.a.startOver,onClick:a},"Start over")),i.a.createElement("div",null,i.a.createElement(I,{id:"game_size",value:E,label:"Game size",range:f,onChange:b})),i.a.createElement("div",null,i.a.createElement(I,{id:"hexagon_size",value:v,label:"Hexagon size",range:d,onChange:g})),i.a.createElement("div",null,i.a.createElement(G,{title:"Select a visual game mode:",options:[{id:r.Flat,label:"Flat topped"},{id:r.Pointy,label:"Pointy topped"}],checkedId:u,onChange:s})),i.a.createElement("div",null,i.a.createElement(G,{title:"Select a play game mode:",options:[{id:c.Online,label:"Online: play with server data"},{id:c.Offline,label:"Offline: generate data locally"}],checkedId:m,onChange:p}))))),i.a.createElement("div",{className:A()(F.a.column,F.a.arrows,Object(T.a)({},F.a.flat,S))},S?i.a.createElement(B,{move:l,disabled:x}):i.a.createElement(R,{move:l,disabled:x}),i.a.createElement("p",null,"Use keyboard or these buttons")))})),X=a(8),$=a(11);function ee(e,t){var a=Object(M.a)(e,3),n=a[0]+1-t,r=a[1]+1-t;return{x:r,y:-r-n,z:n,value:a[2]}}function te(e,t){var a=e.x;return[e.z+t-1,a+t-1,e.value]}function ae(e){return e.map((function(e){return e.filter((function(e){return e&&!e[2]}))})).flat(1)}function ne(e){return e.map((function(e){return e.filter((function(e){return e&&!!e[2]}))})).flat(1)}var re=a(19),ce=a.n(re),le=function(e){return e.gameField},oe=function(e){return le(e).field},ie=Object(x.a)({appearedCells:function(e){return le(e).animation.appearedCells},field:oe,gameMode:H,gameSize:W,appStatus:U,cellSize:Y}),ue={initiateField:function(){return{type:y.INITIATE_FIELD}}},se=Object(m.b)(ie,ue)((function(e){var t=e.appearedCells,a=e.appStatus,c=e.field,l=e.gameMode,o=e.gameSize,u=e.cellSize,s=e.initiateField,m=a===n.Finished,d=l===r.Pointy,f="".concat(u,"px"),p={width:f,height:f,lineHeight:f,fontSize:"".concat(u/2.5,"px"),padding:"0 ".concat(.1*u,"px"),marginRight:"".concat(d?0:.125*u,"px"),marginBottom:"".concat(d?.125*u:0,"px"),opacity:m?.55:1},E=!!window.DEBBUG_DEV_MODE;return 0===ne(c).length&&s(),i.a.createElement("div",{className:A()(ce.a.GameField,Object(T.a)({},ce.a.pointy,d))},c.map((function(e,a){return i.a.createElement("div",{className:ce.a.row,key:a},e.map((function(e){if(!e)return null;var a=Object(M.a)(e,3),n=a[0],r=a[1],c=a[2],l=c||"",u=E?"q: ".concat(n,", r: ").concat(r,", value: ").concat(c):String(l),s=c&&Math.log2(c),m=s?Object($.clamp)(255-10*s,165,255):255,d=s?Object($.clamp)(255-10*s*3,0,255):255,f=t.some((function(e){var t=Object(M.a)(e,2),a=t[0],c=t[1];return n===a&&r===c})),b=Object(X.a)(Object(X.a)({},p),{},{backgroundColor:"rgba(255, ".concat(m,", ").concat(d,")")});f&&(b.animationName=ce.a.cellsAppeared);var v=ee(e,o),g=v.x,y=v.y,O=v.z;return i.a.createElement("div",{key:e.join()+f?Math.random():"",className:ce.a.item,style:b,title:u,"data-x":g,"data-y":y,"data-z":O,"data-value":c||0},l)})))})))})),me=a(30),de=a.n(me),fe=function(){return i.a.createElement("div",{className:de.a.Game},i.a.createElement("header",null,i.a.createElement("h1",{className:de.a.gameTitle},"Hexagonal 2048"),i.a.createElement(Q,null)),i.a.createElement("main",{className:de.a.main},i.a.createElement(se,null)))},pe=(a(66),function(){return i.a.createElement(S.a,null,i.a.createElement(fe,null))}),Ee=a(15),be=a(13),ve=a(45),ge=a(48),ye=a(12),Oe={parsed:!1,gameSize:0};function _e(){if(Oe.parsed)return Object($.cloneDeep)(Oe)}function he(){var e=function(e,t){if(Oe.parsed)return _e();var a=window.location.hash;if(a.startsWith("#test")){var n=parseInt(a.replace("#test","")),r=isNaN(n)?e:$.clamp.apply(void 0,[n].concat(Object(ye.a)(t)));return Oe.parsed=!0,Oe.gameSize=r,_e()}}(3,f);return e?{gamePlayMode:c.Online,gameSize:e.gameSize}:{gamePlayMode:c.Offline,gameSize:3}}function je(e){return Array.from({length:Math.max(2,e-2)}).map((function(e,t){return Math.pow(2,t)})).slice(1)}var Se=he(),xe=Se.gameSize,Te=Se.gamePlayMode,Me={gameSize:xe,valuesToAdd:je(xe),gameMode:r.Pointy,gamePlayMode:Te,appStatus:n.InProgress,cellSize:40},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y.SET_GAME_SIZE:return Ae(e,t);case y.SET_GAME_MODE:return we(e,t);case y.SET_GAME_PLAY_MODE:return ke(e,t);case y.SET_APP_STATUS:return Ce(e,t);case y.SET_CELL_SIZE:return ze(e,t);default:return e}},Ae=function(e,t){var a=t.payload.gameSize;return Object(X.a)(Object(X.a)({},e),{},{gameSize:a,valuesToAdd:je(a)})},we=function(e,t){var a=t.payload.gameMode;return Object(X.a)(Object(X.a)({},e),{},{gameMode:a})},ke=function(e,t){var a=t.payload.gamePlayMode;return Object(X.a)(Object(X.a)({},e),{},{gamePlayMode:a})},Ce=function(e,t){var a=t.payload.appStatus;return Object(X.a)(Object(X.a)({},e),{},{appStatus:a})},ze=function(e,t){var a=t.payload.cellSize;return Object(X.a)(Object(X.a)({},e),{},{cellSize:a})},Ie=a(7),Le=a.n(Ie),Pe=a(46),Ge=a(29),De=a.n(Ge);function Fe(e,t){var a=function(e,t){var a=e.length;if(a<=t)return e;for(var n=new Set;n.size<t;)n.add(De()(0,a-1));return Array.from(n).map((function(t){return e[t]}))}(ae(e),2);return a.forEach((function(a){var n=Object(M.a)(a,2),r=n[0],c=n[1],l=t[De()(0,t.length-1)];e[c][r][2]=l})),a}function Re(e,t,a){return Be.apply(this,arguments)}function Be(){return(Be=Object(Pe.a)(Le.a.mark((function e(t,a,n){var r,c,l,o,i;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==ae(a).length){e.next=2;break}return e.abrupt("return",[]);case 2:return r=ne(a),c=JSON.stringify(r.map((function(e){return ee(e,n)}))),e.next=6,fetch(t,{method:"POST",body:c});case 6:return l=e.sent,e.next=9,l.json();case 9:return o=e.sent,(i=o.map((function(e){return te(e,n)}))).forEach((function(e){var t=Object(M.a)(e,3),n=t[0],r=t[1],c=t[2];a[r][n][2]=c})),e.abrupt("return",i);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ke(e,t){var a=function(e){var t=2*e-1,a=Math.floor(t/2);return Array.from({length:t}).map((function(e,n){return Array.from({length:t}).map((function(e,r){return n<a&&a>r+n||n>a&&t<=n+r-a?null:[r,n,null]}))}))}(e),n=[];t===c.Offline&&(n=Fe(a,je(e)));return{field:a,addedCells:n}}var We=g({SET_FIELD:null,SET_NEW_CELLS_TO_ANIMATE:null},"GameField"),Ze=he(),He=Ke(Ze.gameSize,Ze.gamePlayMode),Ve={field:He.field,animation:{appearedCells:He.addedCells}},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case We.SET_FIELD:return Ye(e,t);case We.SET_NEW_CELLS_TO_ANIMATE:return qe(e,t);default:return e}},Ye=function(e,t){var a=t.payload.field;return Object(X.a)(Object(X.a)({},e),{},{field:a})},qe=function(e,t){var a=t.payload.cells;return Object(X.a)(Object(X.a)({},e),{},{animation:Object(X.a)(Object(X.a)({},null===e||void 0===e?void 0:e.animation),{},{appearedCells:a})})},Je=Object(Ee.combineReducers)({controls:Ne,gameField:Ue}),Qe=a(5),Xe=function(e){return{type:We.SET_FIELD,payload:{field:e}}},$e=function(e){return{type:We.SET_NEW_CELLS_TO_ANIMATE,payload:{cells:e}}},et=Le.a.mark(tt);function tt(e){var t,a,r,c,l;return Le.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,t=e.payload.gamePlayMode,confirm("Do you want to start a new game in other mode?")){o.next=5;break}return o.abrupt("return");case 5:return o.next=7,Object(Qe.d)(W);case 7:return a=o.sent,r=Ke(a,t),c=r.field,l=r.addedCells,o.next=11,Object(Qe.c)(Object(be.a)([h(a),Xe(c),_(n.InProgress),j(t),$e(l)]));case 11:o.next=16;break;case 13:o.prev=13,o.t0=o.catch(0),console.warn("Error occurred during changing game play mode.",o.t0);case 16:case"end":return o.stop()}}),et,null,[[0,13]])}var at=Le.a.mark(nt);function nt(e){var t,a,r,c,l;return Le.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,t=e.payload.gameSize,confirm("Do you want to start a new game?")){o.next=5;break}return o.abrupt("return");case 5:return o.next=7,Object(Qe.d)(V);case 7:return a=o.sent,r=Ke(t,a),c=r.field,l=r.addedCells,o.next=11,Object(Qe.c)(Object(be.a)([h(t),Xe(c),_(n.InProgress),$e(l)]));case 11:o.next=16;break;case 13:o.prev=13,o.t0=o.catch(0),console.warn("Error occurred during changing game size.",o.t0);case 16:case"end":return o.stop()}}),at,null,[[0,13]])}function rt(e,t,a,n,r){var c=t[a][n];if(c){var l=Object(M.a)(c,3)[2];if(l){var o=r(e,a,n),i=r(t,a,n),u=i.indexOf(c),s=o.slice(u+1),m=i.slice(u+1),d=i[u+1],f=u===i.length-1||!d,p=null!==(null===d||void 0===d?void 0:d[2])&&(null===d||void 0===d?void 0:d[2])!==l;if(!f&&!p){var E=m.find((function(e){return e&&!!e[2]}));if(E){var b=s.find((function(e){return e&&!!e[2]}))||[],v=Object(M.a)(b,3)[2];if(Object(M.a)(E,3)[2]===l&&v===l)E[2]+=l,c[2]=null;else{var g=i.indexOf(E);i[g-1][2]+=l,c[2]=null}}else{m.slice().reverse().find((function(e){return e&&!e[2]}))[2]=l,c[2]=null}}}}}function ct(e,t,a){var n=t.length;if(a===l.Bottom)for(var r=function(e,t,a){return e[t]},c=n-1;c>=0;c--)for(var o=0;o<n;o++)rt(e,t,o,c,r);if(a===l.Top)for(var i=function(e,t,a){return e[t].slice().reverse()},u=0;u<n;u++)for(var s=0;s<n;s++)rt(e,t,s,u,i);if(a===l.BottomLeft)for(var m=function(e,t,a){return e.map((function(e){return e[a]}))},d=0;d<n;d++)for(var f=n-1;f>=0;f--)rt(e,t,f,d,m);if(a===l.TopRight)for(var p=function(e,t,a){return e.map((function(e){return e[a]})).reverse()},E=0;E<n;E++)for(var b=0;b<n;b++)rt(e,t,b,E,p);if(a===l.BottomRight){var v=function(e,t,a){return e.reduce((function(e,n){return n.forEach((function(n){if(n){var r=Object(M.a)(n,2),c=r[0],l=r[1];t+a===c+l&&e.push(n)}})),e}),[])},g=function(){return v.apply(void 0,arguments).reverse()},y=t[0],O=t.map((function(e){return e[n-1]})).slice(1);[].concat(Object(ye.a)(y),Object(ye.a)(O)).filter(Boolean).map((function(e){return v(t,e[1],e[0])})).flat().forEach((function(a){rt(e,t,a[1],a[0],g)}))}if(a===l.TopLeft){var _=function(e,t,a){return e.reduce((function(e,n){return n.forEach((function(n){if(n){var r=Object(M.a)(n,2),c=r[0],l=r[1];t+a===c+l&&e.push(n)}})),e}),[])},h=t.map((function(e){return e[0]})),j=t[n-1].slice(1);[].concat(Object(ye.a)(h),Object(ye.a)(j)).filter(Boolean).map((function(e){return function(){return _.apply(void 0,arguments).reverse()}(t,e[1],e[0])})).flat().forEach((function(a){rt(e,t,a[1],a[0],_)}))}}function lt(e){if(0!==ae(e).length)return!0;var t=Object.values(l),a=Object($.cloneDeep)(e);return t.forEach((function(e){ct(Object($.cloneDeep)(a),a,e)})),!Object($.isEqual)(e,a)}function ot(e){return new URL(String(e),window.RNG_SERVER_URL||"http://51.15.207.127:13337/").href}var it=Le.a.mark(ut);function ut(e){var t,a,r,l,o,i,u;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Qe.d)(V);case 3:return t=e.sent,e.next=6,Object(Qe.d)(oe);case 6:if(a=e.sent,r=Object($.cloneDeep)(a),t!==c.Online){e.next=24;break}return e.next=11,Object(Qe.d)(W);case 11:return o=e.sent,e.prev=12,e.next=15,Object(Qe.b)(Re,ot(o),r,o);case 15:l=e.sent,e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(12),alert("The server is currently not available. Please select offline play mode."),e.abrupt("return");case 22:e.next=28;break;case 24:return e.next=26,Object(Qe.d)(Z);case 26:i=e.sent,l=Fe(r,i);case 28:return u=!lt(r),e.next=31,Object(Qe.c)(Object(be.a)([Xe(r),$e(l)].concat(Object(ye.a)(u?[_(n.Finished)]:[]))));case 31:e.next=36;break;case 33:e.prev=33,e.t1=e.catch(0),console.warn("Error occurred during initiation the field.",e.t1);case 36:case"end":return e.stop()}}),it,null,[[0,33],[12,18]])}var st=Le.a.mark(mt);function mt(e){var t,a,r,l,o,i,u,s;return Le.a.wrap((function(m){for(;;)switch(m.prev=m.next){case 0:return m.prev=0,m.next=3,Object(Qe.d)(U);case 3:if(m.sent!==n.Finished){m.next=6;break}return m.abrupt("return");case 6:return m.next=8,Object(Qe.d)(V);case 8:return t=m.sent,m.next=11,Object(Qe.d)(oe);case 11:if(a=m.sent,r=Object($.cloneDeep)(a),l=e.payload.direction,ct(a,r,l),!Object($.isEqual)(a,r)){m.next=18;break}return console.log("There are no any moves in this direction. Choose another one, please."),m.abrupt("return");case 18:if(t!==c.Online){m.next=34;break}return m.next=21,Object(Qe.d)(W);case 21:return i=m.sent,m.prev=22,m.next=25,Object(Qe.b)(Re,ot(i),r,i);case 25:o=m.sent,m.next=32;break;case 28:return m.prev=28,m.t0=m.catch(22),alert("The server is currently not available. Please select offline play mode."),m.abrupt("return");case 32:m.next=38;break;case 34:return m.next=36,Object(Qe.d)(Z);case 36:u=m.sent,o=Fe(r,u);case 38:return s=!lt(r),m.next=41,Object(Qe.c)(Object(be.a)([Xe(r),$e(o)].concat(Object(ye.a)(s?[_(n.Finished)]:[]))));case 41:s&&alert("No more possible moves!"),m.next=47;break;case 44:m.prev=44,m.t1=m.catch(0),console.warn("Error occurred during moving.",m.t1);case 47:case"end":return m.stop()}}),st,null,[[0,44],[22,28]])}var dt=Le.a.mark(ft);function ft(e){var t,a,r,c,l;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,confirm("Do you want to start over?")){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,Object(Qe.d)(W);case 6:return t=e.sent,e.next=9,Object(Qe.d)(V);case 9:return a=e.sent,r=Ke(t,a),c=r.field,l=r.addedCells,e.next=13,Object(Qe.c)(Object(be.a)([h(t),Xe(c),_(n.InProgress),$e(l)]));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.warn("Error occurred during starting over.",e.t0);case 18:case"end":return e.stop()}}),dt,null,[[0,15]])}var pt=[Object(Qe.e)(y.CHANGE_GAME_PLAY_MODE,tt),Object(Qe.e)(y.CHANGE_GAME_SIZE,nt),Object(Qe.e)(y.INITIATE_FIELD,ut),Object(Qe.e)(y.MOVE,mt),Object(Qe.e)(y.START_OVER,ft)],Et=Le.a.mark(bt);function bt(){var e;return Le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Object(ye.a)(pt),t.next=3,Object(Qe.a)(e);case 3:case"end":return t.stop()}}),Et)}var vt=Object(ge.a)(),gt=Object(Ee.createStore)(Object(be.b)(Je),Object(ve.composeWithDevTools)(Object(Ee.applyMiddleware)(vt)));vt.run(bt);var yt=gt;s.a.render(i.a.createElement(m.a,{store:yt},i.a.createElement(pe,null)),document.getElementById("root")),document.addEventListener("keyup",(function(e){var t=e.code,a=yt.getState().controls.gameMode===r.Flat,n=a?v:b;if((a?E:p).includes(t))return yt.dispatch(O(n[t]))}))}},[[49,1,2]]]);